"use client";
import blackHole from "../../public/svgs/landing-page/loading/black-hole.svg";
import Image from "next/image";
import { motion } from "framer-motion";
import { SetStateAction, useContext } from "react";
import React from "react";
import { RevolvingDot } from "react-loader-spinner";

import gazeIcon from "../../public/svgs/landing-page/loading/gaze-icon-white.svg";
import {
  UserPageContext,
  UserPageContextTypes,
} from "./components/UserPageContext";

const LogoSvg = (
  <svg
    width="735"
    height="694"
    viewBox="0 0 735 694"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <defs>
      <clipPath id="svgPath"></clipPath>
      <path
        d="M730.999 479.989C731.014 486.987 729.643 493.919 726.968 500.385C724.292 506.851 720.364 512.723 715.409 517.665L655.378 577.696C645.383 587.688 631.828 593.3 617.695 593.298C603.562 593.296 590.009 587.68 580.017 577.685C570.025 567.69 564.412 554.136 564.414 540.003C564.416 525.87 570.032 512.316 580.027 502.324L593.12 489.231C596.508 485.945 598.473 481.461 598.594 476.742C598.601 473.571 597.979 470.429 596.764 467.5C595.549 464.57 593.766 461.91 591.517 459.674C591.101 459.258 590.664 458.841 590.226 458.467C585.966 454.948 580.538 453.16 575.021 453.457C569.503 453.754 564.299 456.114 560.44 460.069L345.128 675.194C335.065 684.824 321.632 690.131 307.704 689.979C293.777 689.826 280.462 684.227 270.612 674.38C260.762 664.532 255.159 651.219 255.003 637.292C254.847 623.365 260.15 609.93 269.777 599.864L321.274 548.367C322.785 546.856 323.984 545.061 324.802 543.086C325.62 541.111 326.041 538.994 326.041 536.856C326.041 533.683 325.416 530.54 324.202 527.608C322.987 524.676 321.207 522.011 318.963 519.767C318.589 519.393 318.235 519.059 317.839 518.726C313.632 515.078 308.196 513.165 302.631 513.374C297.066 513.582 291.788 515.898 287.866 519.85L238.763 568.953C233.814 573.901 227.939 577.825 221.473 580.502C215.008 583.18 208.078 584.557 201.08 584.556C194.082 584.555 187.153 583.176 180.688 580.497C174.223 577.818 168.349 573.892 163.402 568.943C158.454 563.994 154.53 558.119 151.852 551.653C149.175 545.188 147.798 538.258 147.799 531.26C147.8 524.262 149.179 517.333 151.858 510.868C154.537 504.403 158.463 498.529 163.412 493.582L341.943 315.05C345.31 311.69 347.204 307.13 347.21 302.374C347.21 297.759 345.889 293.241 343.403 289.353C340.917 285.465 337.369 282.37 333.18 280.435C329.306 278.749 325.011 278.283 320.865 279.097C316.72 279.911 312.92 281.968 309.971 284.993L132.397 462.484C127.476 467.551 121.597 471.589 115.102 474.363C108.606 477.138 101.624 478.593 94.5606 478.645C87.4976 478.696 80.4947 477.343 73.9593 474.664C67.4238 471.985 61.4863 468.033 56.4918 463.039C51.4973 458.044 47.5456 452.107 44.8665 445.571C42.1873 439.036 40.8342 432.033 40.8859 424.97C40.9375 417.907 42.3928 410.924 45.1672 404.429C47.9415 397.933 51.9796 392.054 57.0465 387.133L141.931 302.207C144.773 299.419 146.447 295.653 146.614 291.675C146.74 288.279 146.144 284.895 144.866 281.746C143.642 278.763 141.838 276.053 139.558 273.774C137.544 271.623 134.982 270.061 132.148 269.257C127.614 267.905 122.798 267.815 118.217 268.996C113.636 270.177 109.464 272.584 106.149 275.959L95.5129 286.596C90.592 291.663 84.7128 295.701 78.2172 298.475C71.7216 301.25 64.7393 302.705 57.6762 302.757C50.6131 302.808 43.6103 301.455 37.0748 298.776C30.5394 296.097 24.6018 292.145 19.6073 287.151C14.6129 282.156 10.6612 276.219 7.98203 269.683C5.3029 263.148 3.9498 256.145 4.00142 249.082C4.05304 242.019 5.50835 235.036 8.28271 228.541C11.0571 222.045 15.0951 216.166 20.1621 211.245L158.999 72.3873C163.948 67.4383 169.823 63.5126 176.289 60.8342C182.756 58.1558 189.686 56.7773 196.685 56.7773C203.684 56.7773 210.614 58.1558 217.08 60.8342C223.546 63.5126 229.422 67.4383 234.371 72.3873C239.32 77.3363 243.245 83.2115 245.924 89.6777C248.602 96.1438 249.981 103.074 249.981 110.073C249.981 117.072 248.602 124.002 245.924 130.469C243.245 136.935 239.32 142.81 234.371 147.759L150.257 231.956C147.146 235.029 145.335 239.18 145.199 243.55V244.05C145.198 247.268 145.84 250.455 147.089 253.422C148.337 256.388 150.166 259.075 152.468 261.325C154.77 263.575 157.499 265.341 160.493 266.521C163.488 267.701 166.688 268.27 169.906 268.195C174.132 268.022 178.129 266.225 181.063 263.179L423.976 20.1621C428.897 15.0951 434.776 11.0571 441.272 8.28271C447.767 5.50835 454.75 4.05304 461.813 4.00142C468.876 3.9498 475.879 5.3029 482.414 7.98203C488.949 10.6612 494.887 14.6129 499.881 19.6073C504.876 24.6018 508.828 30.5394 511.507 37.0748C514.186 43.6103 515.539 50.6131 515.487 57.6762C515.436 64.7393 513.98 71.7216 511.206 78.2172C508.432 84.7128 504.394 90.592 499.327 95.5129L350.082 244.737C347.261 247.558 345.674 251.383 345.669 255.373C345.665 258.548 346.287 261.692 347.502 264.624C348.716 267.557 350.499 270.221 352.746 272.462C353.184 272.9 353.642 273.337 354.12 273.732C358.522 277.332 364.114 279.15 369.791 278.826C375.468 278.503 380.817 276.061 384.781 271.984L424.663 232.102C434.669 222.118 448.231 216.518 462.366 216.534C476.501 216.549 490.051 222.179 500.034 232.185C510.018 242.191 515.618 255.753 515.603 269.888C515.587 284.023 509.957 297.573 499.951 307.557L329.267 478.241C326.173 481.35 324.43 485.553 324.417 489.939C324.413 493.113 325.037 496.257 326.251 499.19C327.466 502.122 329.247 504.786 331.494 507.028C331.931 507.465 332.368 507.861 332.826 508.256C337.145 511.8 342.637 513.594 348.215 513.282C353.793 512.969 359.05 510.574 362.946 506.57L636.707 232.893C646.702 222.901 660.257 217.288 674.389 217.29C688.522 217.292 702.076 222.908 712.068 232.903C722.06 242.898 727.673 256.453 727.671 270.586C727.669 284.719 722.052 298.272 712.058 308.265L601.737 418.689C598.811 421.615 597.164 425.582 597.158 429.721C597.153 432.895 597.776 436.039 598.99 438.972C600.205 441.905 601.987 444.569 604.235 446.81C604.672 447.247 605.13 447.664 605.588 448.059C609.948 451.638 615.494 453.449 621.126 453.133C626.759 452.817 632.067 450.397 635.999 446.352L639.267 443.084C659.978 422.373 693.782 421.228 714.847 441.586C719.99 446.566 724.073 452.537 726.849 459.136C729.624 465.736 731.036 472.83 730.999 479.989Z"
        stroke="#231F20"
        stroke-width="8"
        stroke-miterlimit="10"
      />
      <path
        d="M569.536 206.499C595.287 206.499 616.162 185.624 616.162 159.873C616.162 134.122 595.287 113.247 569.536 113.247C543.785 113.247 522.91 134.122 522.91 159.873C522.91 185.624 543.785 206.499 569.536 206.499Z"
        stroke="#231F20"
        stroke-width="8"
        stroke-miterlimit="10"
      />
    </defs>
  </svg>
);

const item = {
  hidden: { opacity: 1, y: 0 },
  show: {
    opacity: 1,
    y: 0,
    scale: 1,
    transition: {
      ease: [0.6, 0.01, 0.05, 0.95],
      duration: 1.6,
    },
  },
  exit: {
    opacity: 1,
    y: 100,
    transition: {
      ease: "easeInOut",
      duration: 0.8,
    },
  },
};

interface LoadingPageProps {
  setLoading: React.Dispatch<React.SetStateAction<boolean>>;
}

export default function LoadingPage(props: LoadingPageProps) {
  const {
    connectMetamask,
    ismetaMaskConnected,
    homePageLoading,
    setHomePageLoading,
  } = useContext(UserPageContext) as UserPageContextTypes;

  return (
    <div className="w-full h-screen sm:bg-white bg-black  font-raleWay flex items-center justify-center overflow-hidden">
      <motion.div
        transition={{ ease: "linear", duration: 3.2 }}
        animate={{ x: 0 }}
        initial={{ x: "-100%" }}
        className="w-full h-[30px] bg-white absolute top-0 sm:hidden"
      ></motion.div>
      <motion.img
        /*         onAnimationComplete={() => props.setLoading(false)} */
        initial={{ opacity: 0.5 }}
        animate={{ opacity: 1 }}
        exit={{ width: 800 }}
        transition={{ ease: [0.6, 0.01, 0.05, 0.95], duration: 1.6 }}
        src={blackHole.src}
        width={300}
        height={400}
        layoutId={"main-image"}
        className={"hidden"}
        alt={"black hole illustration"}
      ></motion.img>

      <Image
        src={gazeIcon.src}
        alt={"logo icon"}
        width={100}
        className={"hidden"}
        height={500}
      ></Image>
      <Image
        src={gazeIcon.src}
        alt={"logo icon"}
        width={100}
        className={"sm:hidden"}
        height={500}
      ></Image>
      <svg className="svg">
        <clipPath id="my-clip-path" clipPathUnits="objectBoundingBox">
          <path d="M1,0.694 C1,0.704,0.998,0.714,0.995,0.724 C0.991,0.733,0.985,0.742,0.979,0.749 L0.896,0.836 C0.882,0.851,0.864,0.859,0.844,0.859 C0.825,0.859,0.806,0.851,0.792,0.836 C0.779,0.822,0.771,0.802,0.771,0.781 C0.771,0.761,0.779,0.741,0.792,0.727 L0.81,0.707 C0.815,0.703,0.818,0.696,0.818,0.689 C0.818,0.685,0.817,0.68,0.815,0.676 C0.814,0.671,0.811,0.668,0.808,0.664 C0.808,0.664,0.807,0.663,0.806,0.663 C0.801,0.657,0.793,0.655,0.786,0.655 C0.778,0.656,0.771,0.659,0.765,0.665 L0.469,0.979 C0.455,0.993,0.437,1,0.418,1 C0.399,1,0.38,0.992,0.367,0.977 C0.353,0.963,0.346,0.944,0.345,0.923 C0.345,0.903,0.352,0.883,0.366,0.869 L0.436,0.794 C0.439,0.791,0.44,0.789,0.441,0.786 C0.442,0.783,0.443,0.78,0.443,0.777 C0.443,0.772,0.442,0.768,0.441,0.763 C0.439,0.759,0.436,0.755,0.433,0.752 C0.433,0.751,0.432,0.751,0.432,0.75 C0.426,0.745,0.418,0.742,0.411,0.743 C0.403,0.743,0.396,0.746,0.391,0.752 L0.323,0.824 C0.316,0.831,0.308,0.837,0.299,0.84 C0.29,0.844,0.281,0.846,0.271,0.846 C0.262,0.846,0.252,0.844,0.243,0.84 C0.234,0.837,0.226,0.831,0.219,0.824 C0.213,0.816,0.207,0.808,0.203,0.798 C0.2,0.789,0.198,0.779,0.198,0.769 C0.198,0.758,0.2,0.748,0.203,0.739 C0.207,0.73,0.213,0.721,0.219,0.714 L0.465,0.454 C0.47,0.449,0.472,0.442,0.472,0.435 C0.472,0.428,0.47,0.422,0.467,0.416 C0.464,0.41,0.459,0.406,0.453,0.403 C0.448,0.401,0.442,0.4,0.436,0.401 C0.43,0.402,0.425,0.405,0.421,0.41 L0.177,0.668 C0.17,0.676,0.162,0.682,0.153,0.686 C0.144,0.69,0.134,0.692,0.125,0.692 C0.115,0.692,0.105,0.69,0.096,0.686 C0.087,0.682,0.079,0.677,0.072,0.669 C0.065,0.662,0.06,0.653,0.056,0.644 C0.053,0.634,0.051,0.624,0.051,0.614 C0.051,0.603,0.053,0.593,0.057,0.584 C0.061,0.574,0.066,0.566,0.073,0.559 L0.19,0.435 C0.194,0.431,0.196,0.425,0.196,0.419 C0.196,0.414,0.196,0.41,0.194,0.405 C0.192,0.401,0.19,0.397,0.187,0.393 C0.184,0.39,0.18,0.388,0.176,0.387 C0.17,0.385,0.163,0.385,0.157,0.386 C0.151,0.388,0.145,0.392,0.141,0.397 L0.126,0.412 C0.119,0.419,0.111,0.425,0.102,0.429 C0.093,0.433,0.084,0.436,0.074,0.436 C0.064,0.436,0.055,0.434,0.046,0.43 C0.037,0.426,0.028,0.42,0.022,0.413 C0.015,0.406,0.009,0.397,0.006,0.387 C0.002,0.378,0,0.368,0,0.357 C0,0.347,0.002,0.337,0.006,0.327 C0.01,0.318,0.015,0.309,0.022,0.302 L0.213,0.1 C0.22,0.093,0.228,0.087,0.237,0.083 C0.246,0.079,0.255,0.077,0.265,0.077 C0.275,0.077,0.284,0.079,0.293,0.083 C0.302,0.087,0.31,0.093,0.317,0.1 C0.324,0.107,0.329,0.116,0.333,0.125 C0.337,0.134,0.338,0.144,0.338,0.155 C0.338,0.165,0.337,0.175,0.333,0.184 C0.329,0.194,0.324,0.202,0.317,0.21 L0.201,0.332 C0.197,0.337,0.194,0.343,0.194,0.349 V0.35 C0.194,0.355,0.195,0.359,0.197,0.364 C0.199,0.368,0.201,0.372,0.204,0.375 C0.207,0.378,0.211,0.381,0.215,0.383 C0.219,0.384,0.224,0.385,0.228,0.385 C0.234,0.385,0.24,0.382,0.244,0.378 L0.578,0.024 C0.585,0.016,0.593,0.01,0.602,0.006 C0.61,0.002,0.62,0,0.63,0 C0.64,0,0.649,0.002,0.658,0.006 C0.667,0.01,0.675,0.016,0.682,0.023 C0.689,0.03,0.694,0.039,0.698,0.048 C0.702,0.058,0.704,0.068,0.704,0.078 C0.704,0.089,0.702,0.099,0.698,0.108 C0.694,0.118,0.688,0.126,0.681,0.133 L0.476,0.351 C0.472,0.355,0.47,0.361,0.47,0.367 C0.47,0.371,0.471,0.376,0.473,0.38 C0.474,0.384,0.477,0.388,0.48,0.391 C0.48,0.392,0.481,0.393,0.482,0.393 C0.488,0.399,0.495,0.401,0.503,0.401 C0.511,0.4,0.518,0.397,0.524,0.391 L0.579,0.333 C0.592,0.318,0.611,0.31,0.631,0.31 C0.65,0.31,0.669,0.318,0.682,0.333 C0.696,0.347,0.704,0.367,0.704,0.388 C0.704,0.408,0.696,0.428,0.682,0.443 L0.447,0.691 C0.443,0.696,0.441,0.702,0.441,0.708 C0.441,0.713,0.442,0.718,0.443,0.722 C0.445,0.726,0.447,0.73,0.451,0.733 C0.451,0.734,0.452,0.735,0.452,0.735 C0.458,0.74,0.466,0.743,0.474,0.742 C0.481,0.742,0.488,0.739,0.494,0.733 L0.87,0.334 C0.884,0.319,0.903,0.311,0.922,0.311 C0.942,0.311,0.96,0.319,0.974,0.334 C0.988,0.348,0.995,0.368,0.995,0.389 C0.995,0.409,0.988,0.429,0.974,0.444 L0.822,0.605 C0.818,0.609,0.816,0.615,0.816,0.621 C0.816,0.625,0.817,0.63,0.818,0.634 C0.82,0.638,0.823,0.642,0.826,0.646 C0.826,0.646,0.827,0.647,0.828,0.647 C0.834,0.653,0.841,0.655,0.849,0.655 C0.857,0.654,0.864,0.651,0.869,0.645 L0.874,0.64 C0.902,0.61,0.949,0.608,0.978,0.638 C0.985,0.645,0.991,0.654,0.994,0.664 C0.998,0.673,1,0.684,1,0.694"></path>
        </clipPath>
      </svg>

      <svg className="svgTwo">
        <clipPath id="my-clip-path" clipPathUnits="objectBoundingBox">
          <path d="M0.5,1 C0.776,1,1,0.776,1,0.5 C1,0.224,0.776,0,0.5,0 C0.224,0,0,0.224,0,0.5 C0,0.776,0.224,1,0.5,1"></path>
        </clipPath>
      </svg>

      <motion.div
        initial={{ opacity: 1 }}
        animate={{ scale: 1 }}
        exit={{
          scale: 200,
          transition: { ease: "linear", duration: 1.0, delay: 2.2 },
        }}
        onAnimationComplete={() => props.setLoading(false)}
        layoutId={"main-image"}
        className="relative sm:block hidden"
      >
        <div className="w-[30px] h-[30px] bg-white sm:bg-black rounded-full absolute top-6 right-6"></div>
        <div className="clipped-two relative ">
          <motion.div
            initial={{ x: "-100%" }}
            animate={{ x: "0%" }}
            transition={{
              ease: [0.6, 0.01, -0.05, 0.9],
              duration: 2,
            }}
            className="w-[220px] h-[200px] bg-white sm:bg-black absolute"
          ></motion.div>
        </div>
      </motion.div>
    </div>
  );
}
